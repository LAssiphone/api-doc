{"swaggerVersion":"1.2","apiVersion":"0.1","basePath":"\/api","resourcePath":"\/visits","apis":[{"path":"\/visits\/{id}","operations":[{"method":"GET","summary":"View a list of visits for specific login page","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"limit","type":"string","description":"Maximum number of results"},{"paramType":"form","name":"expand","type":"string","description":"Used to show information about visitor itself (expand=visitor)"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"},{"paramType":"form","name":"optin","type":"string","description":"If set to true only visitors who opt-in will be returned"}],"responseMessages":[{"code":200,"message":"Returned when successful","responseModel":"AppBundle.Entity.Visit"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}],"type":"AppBundle.Entity.Visit"},{"method":"POST","summary":"Create a roaming visit","nickname":"post_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Visit ID"},{"paramType":"form","name":"mac_address","type":"string","description":"Hardware MAC address of the visitor"},{"paramType":"form","name":"device_id","type":"string","description":"Hardware MAC address of the access point"},{"paramType":"form","name":"session_id","type":"string","description":"Session identificator"}],"responseMessages":[{"code":201,"message":"Returned when successful"},{"code":404,"message":"Visitor not found"},{"code":500,"message":"Authorization error or any other problem"}]},{"method":"PUT","summary":"Update a specific visit","nickname":"put_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Visit ID"},{"paramType":"form","name":"duration","type":"string","description":"Visit duration in seconds"},{"paramType":"form","name":"volume","type":"string","description":"Data consumed in kilobytes"}],"responseMessages":[{"code":204,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/age","operations":[{"method":"GET","summary":"Visit statistics by age and gender","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/gender","operations":[{"method":"GET","summary":"Visit statistics by gender","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/misc","operations":[{"method":"GET","summary":"Miscellaneous visit & visitor counters","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/returning","operations":[{"method":"GET","summary":"Visit statistics by returning\/first-time visits","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/time","operations":[{"method":"GET","summary":"Visit statistics by day or time","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]},{"path":"\/visits\/{id}\/stats\/type","operations":[{"method":"GET","summary":"Visit statistics by login type","nickname":"get_visits","parameters":[{"paramType":"path","name":"id","type":"string","required":true},{"paramType":"form","name":"id","type":"string","description":"Page ID"},{"paramType":"form","name":"minimum_ts","type":"string","description":"Timestamp of the period start"},{"paramType":"form","name":"maximum_ts","type":"string","description":"Timestamp of the period end"}],"responseMessages":[{"code":200,"message":"Returned when successful"},{"code":404,"message":"Visit not found"},{"code":500,"message":"Authorization error or any other problem"}]}]}],"models":{"AppBundle.Entity.Visitor":{"id":"AppBundle.Entity.Visitor","description":"Visitor who made this visit","properties":{"home_city":{"type":"string","description":"string"},"zip_code":{"type":"string","description":"string"},"connector_id":{"type":"string","description":"string"},"email":{"type":"string","description":"string"},"id":{"type":"integer","description":"Visitors unique Id","format":"int32"},"name":{"type":"string","description":"Full name of the visitor"},"first_name":{"type":"string","description":"Full name of the visitor"},"last_name":{"type":"string","description":"Full name of the visitor"},"connector_type":{"type":"string","description":"Internal ID (class) of the login implementation"},"birth_date":{"type":"string","description":"Birth date of the visitor, if known","format":"date-time"},"phone_number":{"type":"string","description":"Visitor's phone number, if known"},"gender":{"type":"boolean","description":"Visitor's gender, if known"},"optin":{"type":"boolean","description":"Visitor's agreement to ads (opt-in)"},"url":{"type":"string","description":"Link to the social profile, if applicable"},"social_reach":{"type":"integer","description":"Estimated visitor social reach (friend count, followers, etc)","format":"int32"},"created_at":{"type":"string","description":"Timestamp when the visitor was created","format":"date-time"},"updated_at":{"type":"string","description":"Timestamp when the visitor was last modified","format":"date-time"},"avatar_url":{"type":"string","description":"Link to the avatar url"},"avatar_updated_at":{"type":"string","description":"Timestamp when the visitor avatar was last modified","format":"date-time"}},"required":["connector_id","connector_type","phone_number"]},"AppBundle.Entity.Visit":{"id":"AppBundle.Entity.Visit","description":"","properties":{"visitor":{"$ref":"AppBundle.Entity.Visitor"},"mac_address":{"type":"string","description":"MAC address from which the visit was made"},"device_id":{"type":"string","description":"ID of the wi-fi access point"},"client_type":{"type":"integer","description":"Client device type (eg. desktop)","format":"int32"},"duration":{"type":"integer","description":"integer","format":"int32"},"duration_rollover":{"type":"string"},"volume":{"type":"integer","description":"integer","format":"int32"},"volume_rollover":{"type":"string"},"login_type":{"type":"string","description":"Login button type used (eg. Email, FacebookCheckIn, etc)"},"session_id":{"type":"string","description":"Access point session ID"},"page":{"type":"string"},"visit_count":{"type":"integer","description":"integer","format":"int32"},"previous_visit_at":{"type":"string","description":"DateTime","format":"date-time"},"social_reach":{"type":"integer","description":"integer","format":"int32"},"page_id":{"type":"string","description":"Id of the page where this visit occurred"},"page_owner_id":{"type":"integer","description":"Id of the page where this visit occurred","format":"int32"},"page_headline":{"type":"string","description":"Id of the page where this visit occurred"},"page_nickname":{"type":"string","description":"Nickname of the page where this visit occurred"},"id":{"type":"integer","description":"Unique visit Id","format":"int32"},"message":{"type":"string","description":"An optional visit message (eg. a check-in message)"},"first_visit":{"type":"boolean","description":"First visit of this visitor at this page"},"user_agent":{"type":"string","description":"Access point session ID"},"browser_language":{"type":"string","description":"Browser language"},"created_at":{"type":"string","description":"Timestamp when the visit was created","format":"date-time"},"updated_at":{"type":"string","description":"Timestamp when the visit was last modified (eg. traffic was updated)","format":"date-time"},"optin_shown":{"type":"boolean","description":"Whether the optin page was shown during the visit"}},"required":["client_type","duration","duration_rollover","volume","volume_rollover","login_type","session_id","page"]}},"produces":[],"consumes":[],"authorizations":[]}